<section class="test-results" *ngIf="testResults$ | async as testResults">
  <app-progress-bar
    (showSuccess)="showNotification($event)"
    [isFirstNotification]="isFirstNotification"
    [scrollContainer]="containerElement"
  ></app-progress-bar>
  <section class="results-container">
    <div class="results-content">
      <h2 class="title-mob title-primary">
        {{ testResults.title }} @if (TEST_NAME()==='16-personalities') { ({{
          testResults.type
        }}
        ) }
      </h2>

      @if(TEST_NAME()==='you-coffee' && testResults.subCategoryName){
      <div class="you-coffee-container">
        <div
          class="pointing-subtype-img"
          [style.top]="
            getPositionElementBySubType(testResults.subCategoryName) + '%'
          "
        >
          ü°Ü
        </div>
        <img [src]="getImgUrl(testResults.type)" alt="" class="results-image" />
      </div>

      }@else{
      <img [src]="getImgUrl(testResults.type)" alt="" class="results-image" />

      }

      <div class="results-text-container">
        <h2 class="title-primary">
          {{ testResults.title }}
          @if (TEST_NAME()==='16-personalities') {
          <br />
          ({{ testResults.type }} ) }
        </h2>

        @if (testResults.subCategoryName) {

        <h3 class="coffee-subCategory subtitle">
          {{ testResults.subCategoryName }}
        </h3>

        }
        <p class="subtitle">{{ testResults.subtitle }}</p>
      </div>
    </div>
    <ul class="results-text-list">
      @for (item of testResults.sections; track $index) {

      <li class="results-text-card">
        <h3 class="subtitle">{{ item.sectionsName }}</h3>
        <p class="subtitle">{{ item.sectionsDescription }}</p>

        <ul>
          @for (sectionItem of item.sectionsList; track $index) {

          <li>
            <p class="subtitle">{{ sectionItem }}</p>
          </li>
          }
        </ul>
      </li>
      }
    </ul>
    <br />

    <h3 class="shared-title subtitle">–ü–æ–¥—ñ–ª–∏—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏</h3>
    <br />

    <share-buttons
      [title]="testResults.title"
      [description]="testResults.subtitle"
      [include]="['copy', 'facebook', 'linkedin', 'viber', 'telegram']"
      [showText]="true"
      [url]="fullUrl"
    ></share-buttons>
  </section>

  <!-- <div class="extension-wrapper">
    <ng-container
      *ngIf="benefitConsultationData$ | async as consultationBenefit"
    >
      <section class="results-container extension-content">
        <app-expandable-panel
          [subtitle]="consultationBenefit.targetTitle"
          [title]="
            '–í —Ç–æ–±—ñ —î –±—ñ–ª—å—à–µ. –ù–∞—Å—Ç–∞–≤ —á–∞—Å –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å –¥–æ —Å–µ–±–µ ‚Äî –ø–æ-—Å–ø—Ä–∞–≤–∂–Ω—å–æ–º—É'
          "
        >
          <br />
          <div>
            <div class="target-audience">
              <h3 class="subtitle">–Ø–∫—â–æ —Ç–∏:</h3>
              <ul>
                @for (item of consultationBenefit.targetAudience; track $index)
                {

                <li>
                  <p class="subtitle">
                    {{ item }}
                  </p>
                </li>
                }
              </ul>
            </div>
            <br />

            <div class="benefits">
              <h3 class="subtitle">–©–æ —Å–∞–º–µ —Ç–∏ –æ—Ç—Ä–∏–º–∞—î—à:</h3>

              @for (benefit of consultationBenefit.benefits; track $index) {

              <div class="benefit">
                <h4 class="subtitle">{{ benefit.title }}</h4>
                <p class="subtitle">{{ benefit.description }}</p>
              </div>
              }
            </div>

            <div class="subtitle testimonial">
              <p class="subtitle testimonial-description">
                {{ consultationBenefit.testimonial.description }}
              </p>
              <br />
              <p class="subtitle testimonial-quote">
                {{ consultationBenefit.testimonial.quote }}
              </p>
            </div>
            <br />

            <p class="subtitle note">
              {{ consultationBenefit.note }}
            </p>
          </div>
        </app-expandable-panel>
      </section>
    </ng-container>
  </div> -->

  <div #scrollContainer></div>
  <app-consultations-cards [sliderKey]="'consultations'">
  </app-consultations-cards>
  <app-hero-cards-slider
    [sliderKey]="'tests-results'"
    [bigCards]="false"
  ></app-hero-cards-slider>
</section>
