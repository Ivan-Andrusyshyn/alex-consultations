<div
  class="carousel-wrapper"
  [class.big-cards]="bigCards"
  (touchstart)="onTouchStart($event)"
  (touchend)="onTouchEnd($event)"
>
  <div class="carousel" [class.carousel-no-padding]="!bigCards">
    @for (slide of slideCards; track $index) {

    <div
      [style.transform]="'translateX(-' + currentIndex() * 100 + '%)'"
      class="slide"
      [class.small-slide]="!bigCards"
      [class.active]="
        bigCards
          ? $index === currentIndex()
          : $index >= currentIndex() && $index < currentIndex() + 3
      "
    >
      @if (bigCards) {

      <app-test-card [card]="slide"></app-test-card>
      } @else {
      <div class="small-card hover-container">
        <div class="time-container">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="44"
            height="44"
            viewBox="0 0 44 44"
            fill="none"
          >
            <path
              d="M22.0023 41.0963C11.4863 41.0963 2.90625 32.5163 2.90625 22.0003C2.90625 11.4843 11.4863 2.9043 22.0023 2.9043C32.5183 2.9043 41.0983 11.4843 41.0983 22.0003C41.0983 32.5163 32.5183 41.0963 22.0023 41.0963ZM22.0023 4.6643C12.4543 4.6643 4.66625 12.4523 4.66625 22.0003C4.66625 31.5483 12.4543 39.3363 22.0023 39.3363C31.5503 39.3363 39.3383 31.5483 39.3383 22.0003C39.3383 12.4523 31.5503 4.6643 22.0023 4.6643ZM22.0023 38.1043C21.5183 38.1043 21.1223 37.7083 21.1223 37.2243V34.6283C21.1223 34.1443 21.5183 33.7483 22.0023 33.7483C22.4863 33.7483 22.8823 34.1443 22.8823 34.6283V37.2243C22.8823 37.7083 22.4863 38.1043 22.0023 38.1043ZM32.7823 33.6603C32.5623 33.6603 32.3423 33.5723 32.1663 33.3963L30.3183 31.5483C29.9663 31.1963 29.9663 30.6683 30.3183 30.3163C30.6703 29.9643 31.1983 29.9643 31.5503 30.3163L33.3983 32.1643C33.7503 32.5163 33.7503 33.0443 33.3983 33.3963C33.2223 33.5723 33.0023 33.6603 32.7823 33.6603ZM11.2223 33.6603C11.0023 33.6603 10.7823 33.5723 10.6063 33.3963C10.2543 33.0443 10.2543 32.5163 10.6063 32.1643L12.4543 30.3163C12.8063 29.9643 13.3343 29.9643 13.6863 30.3163C14.0383 30.6683 14.0383 31.1963 13.6863 31.5483L11.8383 33.3963C11.6623 33.5723 11.4423 33.6603 11.2223 33.6603ZM26.2703 28.2043C26.0503 28.2043 25.8303 28.1163 25.6543 27.9403L21.3863 23.6723C21.2103 23.4963 21.1223 23.2763 21.1223 23.0563V12.8043C21.1223 12.3203 21.5183 11.9243 22.0023 11.9243C22.4863 11.9243 22.8823 12.3203 22.8823 12.8043V22.6603L26.8863 26.6643C27.2383 27.0163 27.2383 27.5443 26.8863 27.8963C26.7103 28.1163 26.4903 28.2043 26.2703 28.2043ZM37.2263 22.8803H34.6303C34.1463 22.8803 33.7503 22.4843 33.7503 22.0003C33.7503 21.5163 34.1463 21.1203 34.6303 21.1203H37.2263C37.7103 21.1203 38.1063 21.5163 38.1063 22.0003C38.1063 22.4843 37.7103 22.8803 37.2263 22.8803ZM9.37425 22.8803H6.77825C6.29425 22.8803 5.89825 22.4843 5.89825 22.0003C5.89825 21.5163 6.29425 21.1203 6.77825 21.1203H9.37425C9.85825 21.1203 10.2543 21.5163 10.2543 22.0003C10.2543 22.4843 9.85825 22.8803 9.37425 22.8803ZM30.9343 13.9483C30.7143 13.9483 30.4943 13.8603 30.3183 13.6843C29.9663 13.3323 29.9663 12.8043 30.3183 12.4523L32.1663 10.6043C32.5183 10.2523 33.0463 10.2523 33.3983 10.6043C33.7503 10.9563 33.7503 11.4843 33.3983 11.8363L31.5503 13.6843C31.4183 13.8603 31.1543 13.9483 30.9343 13.9483ZM13.0703 13.9483C12.8503 13.9483 12.6303 13.8603 12.4543 13.6843L10.6063 11.8363C10.2543 11.4843 10.2543 10.9563 10.6063 10.6043C10.9583 10.2523 11.4863 10.2523 11.8383 10.6043L13.6863 12.4523C14.0383 12.8043 14.0383 13.3323 13.6863 13.6843C13.5103 13.8603 13.2903 13.9483 13.0703 13.9483ZM22.0023 10.2523C21.5183 10.2523 21.1223 9.8563 21.1223 9.3723V6.7763C21.1223 6.2923 21.5183 5.8963 22.0023 5.8963C22.4863 5.8963 22.8823 6.2923 22.8823 6.7763V9.3723C22.8823 9.8563 22.4863 10.2523 22.0023 10.2523Z"
              fill="#057988"
            />
          </svg>
          <p>
            {{ slide.time }}
          </p>
        </div>

        <h3 class="subtitle">{{ slide.title }}</h3>
        <img [src]="slide.imageUrl + 'card/1.svg'" alt="" />

        <div class="btn-wrapper">
          <app-primary-btn
            (onClick)="startTest(slide.routeStart)"
            [textBtn]="'Почати тест'"
          ></app-primary-btn>
        </div>
      </div>
      }
    </div>
    }
  </div>
  <app-slider-controls-btn
    (next)="next()"
    [controlsInside]="bigCards ? true : false"
    (prev)="prev()"
  ></app-slider-controls-btn>
  <ul class="dots">
    @for (slide of slideCards; track $index) { @if (bigCards ||isMobCardType) {
    <li [class.active]="$index === currentIndex()" (click)="goToSlide($index)">
      <div class="dot"></div>
    </li>
    }@else{ @if (!isMobCardType) { @if($index%3===0 ) {

    <li [class.active]="$index === currentIndex()" (click)="goToSlide($index)">
      <div class="dot"></div>
    </li>
    } } } }
  </ul>
</div>
