<form
  [formGroup]="personalitiesService.personalityForm"
  (ngSubmit)="onSubmit()"
  *ngIf="personalitiesTest$ | async as questions"
>
  <ng-container *ngFor="let q of questions; let i = index">
    <div class="question-card" [hidden]="currentQuestionNumber !== i + 1">
      <div *ngIf="q">
        <h3>{{ q.id }}.{{ q.question }}</h3>
        <div class="answers">
          <label
            class="radio-label"
            *ngFor="let answer of questions[i].answers; let answerIndex = index"
          >
            <input
              class="radio-btn"
              [formControlName]="q.id.toString()"
              type="radio"
              [value]="answer.point + '-' + answer.type"
            />
            {{ answer.text }}
          </label>
        </div>
      </div>
    </div>
  </ng-container>

  <div class="btn-wrapper">
    <button
      type="button"
      *ngIf="currentQuestionNumber !== 1 && currentQuestionNumber !== 90"
      (click)="previousQuestion()"
      class="btn"
    >
      Назад
    </button>
    <button
      type="button"
      *ngIf="personalitiesService.personalityForm.invalid"
      [disabled]="isNextDisabled(currentQuestionNumber)"
      (click)="nextQuestion()"
      class="btn"
    >
      Наступне питання
    </button>
    <button
      *ngIf="personalitiesService.personalityForm.valid"
      type="submit"
      class="btn"
      [disabled]="personalitiesService.personalityForm.invalid"
    >
      Завершити тест
    </button>
  </div>
</form>
