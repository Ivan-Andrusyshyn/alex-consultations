<div class="container" *ngIf="questions">
  @if(!isStartTest()){
  <div class="instruction">
    <h3>–Ø–∫ –ø–æ—á–∞—Ç–∏ —Å–≤—ñ–π —à–ª—è—Ö –¥–æ –≥–ª–∏–±—à–æ–≥–æ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Å–µ–±–µ</h3>
    <ul>
      <li>1. –ü—Ä–æ–π–¥–∏ –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ—Å—Ç ‚Äî —Ü–µ –∑–∞–π–º–µ –ª–∏—à–µ –∫—ñ–ª—å–∫–∞ —Ö–≤–∏–ª–∏–Ω</li>
      <li>
        2. –û–∑–Ω–∞–π–æ–º—Å—è –∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –π –¥—ñ–∑–Ω–∞–π—Å—è –±—ñ–ª—å—à–µ –ø—Ä–æ —Å–≤–æ—ó —Å–∏–ª—å–Ω—ñ —Å—Ç–æ—Ä–æ–Ω–∏
      </li>
      <li>
        3. –ù–∞—Ç–∏—Å–Ω–∏ ¬´–ü–ï–†–°–û–ù–ê–õ–¨–ù–ò–ô –†–û–ó–ë–Ü–†¬ª ‚Äî —ñ –ø–µ—Ä–µ—Ö–æ–¥—å –≤ –º—ñ–π
        <a
          class="social-link"
          target="_blank"
          href="https://www.instagram.com/depth_seekerr?igsh=MTZuNGxudnNrNWYzeg%3D%3D&utm_source=qr"
        >
          Instagram
        </a>
        –∞–±–æ
        <a
          class="social-link"
          target="_blank"
          href="https://t.me/alex_andrusishin"
          >Telegram </a
        >. –ù–∞–ø–∏—à–∏ –≤ –¥–∏—Ä–µ–∫—Ç, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –≥–∞–π–¥ üéÅ —Ç–∞ –∑–∞–ø–∏—Å–∞—Ç–∏—Å—å –Ω–∞ –≥–ª–∏–±–æ–∫–∏–π
        —Ä–æ–∑–±—ñ—Ä —Ç–≤–æ–≥–æ —Ç–∏–ø—É –æ—Å–æ–±–∏—Å—Ç–æ—Å—Ç—ñ ‚ú®

        <!-- 
         –ù–∞—Ç–∏—Å–∫–∞–π –∫–Ω–æ–ø–∫—É ¬´–ü–ï–†–°–û–ù–ê–õ–¨–ù–ò–ô –†–û–ó–ë–Ü–†¬ª, –Ω–∞–¥—Å–∏–ª–∞–π —Ñ–æ—Ä–º—É ‚Äî —ñ —è —Ä–æ–∑–ø–æ–≤—ñ–º,
        —è–∫ –ø–æ—Ç—Ä–∞–ø–∏—Ç–∏ –Ω–∞ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π —Ä–æ–∑–±—ñ—Ä —Ç–≤–æ–≥–æ —Ç–∏–ø—É –æ—Å–æ–±–∏—Å—Ç–æ—Å—Ç—ñ. –¢–∞–∫–æ–∂
        –æ—Ç—Ä–∏–º–∞—î—à –ø–æ–¥–∞—Ä—É–Ω–æ–∫ ‚Äî –≥–∞–π–¥, —â–æ –¥–æ–ø–æ–º–æ–∂–µ –∫—Ä–∞—â–µ –ø—ñ–∑–Ω–∞—Ç–∏ —Å–µ–±–µ üéÅ -->
      </li>
    </ul>
    <br />

    <div style="display: flex; justify-content: center">
      <app-secondary-btn
        [textBtn]="'–ü–æ—á–∞—Ç–∏ —Ç–µ—Å—Ç'"
        (onClick)="startTestOnClick()"
      ></app-secondary-btn>
    </div>
  </div>

  }@else {

  <div class="wrapper">
    <div class="question-quantity">
      {{ questions.length | questionWord }}
    </div>

    <app-refresh-button (refreshTest)="refreshTest()"></app-refresh-button>
    <div class="progress-bar">
      <div
        class="progress-fill"
        [style.background]="colorProgressBar()"
        [style.width.%]="progressPercentage"
      >
        <span class="percentages-text"
          >{{ progressPercentage | number : "1.0-0" }}%</span
        >
      </div>
    </div>
  </div>

  <mat-tab-group [(selectedIndex)]="currentQuestionNumber">
    <form [formGroup]="formGroup">
      <ng-container *ngFor="let q of questions; let i = index">
        <mat-tab [label]="q.id.toString()">
          <div class="shadow-container"></div>
          <div class="question-card">
            <div *ngIf="q">
              <h3 class="question">{{ q.question }}</h3>
              <div class="answers">
                <div class="line"></div>
                <label
                  class="label"
                  *ngFor="let answer of q.answers; let answerIndex = index"
                >
                  <input
                    [formControlName]="q.id.toString()"
                    (click)="
                      forceChangeControl(
                        q.id,
                        answer.point + (answer.type ? '-' + answer.type : '')
                      )
                    "
                    type="radio"
                    [value]="
                      answer.point + (answer.type ? '-' + answer.type : '')
                    "
                  />
                  <div
                    class="button"
                    [class.coloredLabel]="coloredLabel"
                    [ngClass]="
                      'button-' +
                      (q.answers.length - (answerIndex + 1)).toString()
                    "
                  >
                    <span class="edge"></span>
                    <span class="front text"> </span>
                  </div>
                  <span>
                    {{ answer.text }}
                  </span>
                </label>
              </div>
            </div>
          </div>
          <div style="display: flex; justify-content: center">
            <app-secondary-btn
              *ngIf="formGroup.valid"
              [textBtn]="'–†–µ–∑—É–ª—å—Ç–∞—Ç–∏'"
              (onClick)="getSubmit()"
            ></app-secondary-btn>
          </div>
        </mat-tab>
      </ng-container>
    </form>
  </mat-tab-group>
  <div
    class="error-message"
    *ngIf="getInvalidControls()?.length && currentQuestionNumber > 89"
  >
    –ë—É–¥—å –ª–∞—Å–∫–∞, –¥–∞–π—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –≤—Å—ñ –ø–∏—Ç–∞–Ω–Ω—è.
  </div>
  }
</div>
